(()=>{"use strict";var e,t={701:()=>{const e=e=>{const t=document.querySelector(".cart-wrapper");t.innerHTML="",0===e.length?t.insertAdjacentHTML("beforeend",'<div id="cart-empty">\n           –í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫–∞ –ø—É—Å—Ç–∞\n      </div> \n      '):e.forEach((e=>{t.insertAdjacentHTML("beforeend",`\n          <div class="card" data-key="${e.id}">\n          ${e.sale?'<div class="card-sale">üî•Hot Saleüî•</div>':""}\n            <div class="card-img-wrapper">\n              <span\n                class="card-img-top"\n                style="background-image: url('${e.img}');"\n              ></span>\n            </div>\n            <div class="card-body justify-content-between">\n              <div class="card-price">${e.price} ‚ÇΩ</div>\n              <h5 class="card-title">\n              ${e.title}\n              </h5>\n              <button class="btn btn-primary">–£–¥–∞–ª–∏—Ç—å</button>\n            </div>\n          </div>\n          `)}))},t=(e,t)=>{const r={cart:e,favorites:t};return fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(r),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((e=>e.json()))},r=()=>{let e=0,t=0,r=0;return{updateCartCounter:function(t){e+=t,document.querySelector(".counter").textContent=e},updateFavoritesCounter:function(e){t+=e,document.querySelector("#favorites .counter").textContent=t},decreaseCartCounter:function(){e--,document.querySelector(".counter").textContent=e},decreaseCartCounters:function(){r<=0&&(r=0),document.querySelector(".counter").textContent=e},decreaseFavoritesCounter:function(){t--,document.querySelector("#favorites .counter").textContent=t}}},a=r(),n=e=>{const t=document.querySelector(".favorites-wrapper");t.innerHTML="",0===e.length?t.insertAdjacentHTML("beforeend",'<div id="cart-empty">\n           –ò–∑–±—Ä–∞–Ω–Ω–æ–µ –ø–æ–∫–∞ –ø—É—Å—Ç–∞\n      </div> \n      '):e.forEach((e=>{t.insertAdjacentHTML("beforeend",`\n          <div class="card" data-key="${e.id}">\n          ${e.sale?'<div class="card-sale">üî•Hot Saleüî•</div>':""}\n            <div class="card-img-wrapper">\n              <span\n                class="card-img-top"\n                style="background-image: url('${e.img}');"\n              ></span>\n            </div>\n            <div class="card-body justify-content-between">\n              <div class="card-price">${e.price} ‚ÇΩ</div>\n              <h5 class="card-title">\n              ${e.title}\n              </h5>\n              <button class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>\n            </div>\n          </div>\n          `)}))},c=r(),o=()=>fetch("https://nitro769-a337f-default-rtdb.firebaseio.com/goodss.json").then((e=>e.json())),s=e=>{const t=document.querySelector(".goods");localStorage.setItem("goods",JSON.stringify(e)),t.innerHTML="",e.forEach((e=>{t.insertAdjacentHTML("beforeend",`\n        <div class="col-12 col-md-6 col-lg-4 col-xl-3">\n        <div class="card" data-key="${e.id}">\n        <button class="card-iconfavorites">\n           \n         </button>\n        ${e.sale?'<div class="card-sale">üî•Hot Saleüî•</div>':""}\n          <div class="card-img-wrapper">\n            <span\n              class="card-img-top"\n              style="background-image: url('${e.img}');"\n            ></span>\n          </div>\n          <div class="card-body justify-content-between">\n            <div class="card-price">${e.price} ‚ÇΩ</div>\n            <h5 class="card-title">\n            ${e.title}\n            </h5>\n            <div class="items items--small counter-wrapper">\n            <div class="items__control" data-action="minus">-</div>\n              <div class="items__current" data-counter="">0</div>\n              <div class="items__control" data-action="plus">+</div>\n            </div>\n            <button class="btn btn-primary">–í –∫–æ—Ä–∑–∏–Ω—É</button>\n           \n          </div>\n          \n        </div>\n      </div>\n        `)}))};document.getElementById("cart"),document.getElementById("favorites"),o().then((e=>{s(e)})),(()=>{const r=document.getElementById("cart"),n=document.querySelector(".cart"),c=n.querySelector(".cart-close"),o=document.querySelector(".goods"),s=document.querySelector(".cart-wrapper"),i=n.querySelector(".cart-total > span"),l=document.querySelector(".cart-confirm");r.addEventListener("click",(()=>{const t=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[];n.style.display="flex",e(t),i.textContent=t.reduce(((e,t)=>e+t.price),0)})),c.addEventListener("click",(()=>{n.style.display=""})),o.addEventListener("click",(e=>{if(e.target.classList.contains("btn-primary")){const t=e.target.closest(".card").dataset.key,r=JSON.parse(localStorage.getItem("goods")),n=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[],c=r.find((e=>e.id===+t));n.push(c),localStorage.setItem("cart",JSON.stringify(n)),a.updateCartCounter(1)}})),s.addEventListener("click",(t=>{if(t.target.classList.contains("btn-primary")){const r=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[],n=t.target.closest(".card").dataset.key,c=r.findIndex((e=>e.id===+n));-1!==c&&(r.splice(c,1),localStorage.setItem("cart",JSON.stringify(r)),e(r),i.textContent=r.reduce(((e,t)=>e+t.price),0),a.decreaseCartCounter())}})),l.addEventListener("click",(()=>{const r=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[];t(r).then((()=>{localStorage.removeItem("cart"),e([]),i.textContent=0,a.updateCartCounter(1)}))}))})(),(()=>{const r=document.getElementById("favorites"),a=document.querySelector(".favorites"),o=a.querySelector(".favorites-close"),s=document.querySelector(".goods"),i=document.querySelector(".favorites-wrapper"),l=a.querySelector(".favorites-total > span"),d=a.querySelector(".favorites-confirm");r.addEventListener("click",(()=>{const e=localStorage.getItem("favorites")?JSON.parse(localStorage.getItem("favorites")):[];a.style.display="flex",n(e),l.textContent=e.reduce(((e,t)=>e+t.price),0)})),o.addEventListener("click",(()=>{a.style.display=""})),s.addEventListener("click",(e=>{if(e.target.classList.contains("card-iconfavorites")){const t=e.target.closest(".card").dataset.key,r=JSON.parse(localStorage.getItem("goods")),a=localStorage.getItem("favorites")?JSON.parse(localStorage.getItem("favorites")):[],n=r.find((e=>e.id===+t));a.push(n),localStorage.setItem("favorites",JSON.stringify(a))}})),i.addEventListener("click",(t=>{if(console.log(t.target),t.target.classList.contains("btn-primary")){const r=localStorage.getItem("favorites")?JSON.parse(localStorage.getItem("favorites")):[],a=t.target.closest(".card").dataset.key,c=r.findIndex((e=>e.id===+a));if(-1!==c){const t=r.splice(c,1)[0],a=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[];a.push(t),localStorage.setItem("favorites",JSON.stringify(r)),localStorage.setItem("cart",JSON.stringify(a)),n(r),e(a),cartCounter.textContent=a.length.toString(),counterFavorit--,updateCounterFavo()}}})),d.addEventListener("click",(e=>{const r=localStorage.getItem("favorites")?JSON.parse(localStorage.getItem("favorites")):[];e.target,t(r).then((()=>{localStorage.removeItem("favorites"),n([]),l.textContent=0,c.decreaseFavoritesCounter(1)}))}))})(),(()=>{const e=document.querySelector(".catalog-button > button"),t=document.querySelector(".catalog"),r=document.querySelectorAll(".catalog li");let a=!1;e.addEventListener("click",(()=>{a=!a,t.style.display=a?"block":""})),r.forEach((e=>{e.addEventListener("click",(()=>{const t=e.textContent;o().then((e=>{var r;s((r=t,e.filter((e=>e.category===r))))}))}))}))})(),(()=>{const e=document.querySelector(".search-wrapper_input"),t=document.getElementById("min"),r=document.getElementById("max"),a=document.getElementById("discount-checkbox"),n=document.querySelector(".filter-check_checkmark"),c=((e,t=300)=>{let r;return(...a)=>{clearTimeout(r),r=setTimeout((()=>{e.apply(void 0,a)}),t)}})(((e="",t="",r=!1,a="")=>{o().then((n=>{s(((e,t,r,a,n)=>e.filter((e=>{const c=!t.trim()||e.price>=parseInt(t.trim()),o=!r.trim()||e.price<=parseInt(r.trim()),s=!a||e.sale;return c&&o&&s&&e.title.toLowerCase().includes(n.toLowerCase())})))(n,e,t,r,a))}))}));e.addEventListener("input",(()=>{c(t.value,r.value,a.checked,e.value)})),t.addEventListener("input",(()=>{c(t.value,r.value,a.checked,e.value)})),r.addEventListener("input",(()=>{c(t.value,r.value,a.checked,e.value)})),a.addEventListener("input",(()=>{a.checked?n.classList.add("checked"):n.classList.remove("checked"),c(t.value,r.value,a.checked,e.value)}))})(),r()}},r={};function a(e){var n=r[e];if(void 0!==n)return n.exports;var c=r[e]={exports:{}};return t[e](c,c.exports,a),c.exports}a.m=t,e=[],a.O=(t,r,n,c)=>{if(!r){var o=1/0;for(d=0;d<e.length;d++){for(var[r,n,c]=e[d],s=!0,i=0;i<r.length;i++)(!1&c||o>=c)&&Object.keys(a.O).every((e=>a.O[e](r[i])))?r.splice(i--,1):(s=!1,c<o&&(o=c));if(s){e.splice(d--,1);var l=n();void 0!==l&&(t=l)}}return t}c=c||0;for(var d=e.length;d>0&&e[d-1][2]>c;d--)e[d]=e[d-1];e[d]=[r,n,c]},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0,532:0};a.O.j=t=>0===e[t];var t=(t,r)=>{var n,c,[o,s,i]=r,l=0;if(o.some((t=>0!==e[t]))){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);if(i)var d=i(a)}for(t&&t(r);l<o.length;l++)c=o[l],a.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return a.O(d)},r=self.webpackChunkshop_tehnik=self.webpackChunkshop_tehnik||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var n=a.O(void 0,[532],(()=>a(701)));n=a.O(n)})();
//# sourceMappingURL=main.js.map